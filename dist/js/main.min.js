function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _regeneratorRuntime(){_regeneratorRuntime=function(){return i};var u,i={},t=Object.prototype,s=t.hasOwnProperty,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",n=e.asyncIterator||"@@asyncIterator",a=e.toStringTag||"@@toStringTag";function l(t,e,n,r){return Object.defineProperty(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r})}try{l({},"")}catch(u){l=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var a,o,i,c,e=e&&e.prototype instanceof f?e:f,e=Object.create(e.prototype);return l(e,"_invoke",(a=t,o=n,i=new E(r||[]),c=1,function(t,e){if(3===c)throw Error("Generator is already running");if(4===c){if("throw"===t)throw e;return{value:u,done:!0}}for(i.method=t,i.arg=e;;){var n=i.delegate;if(n){n=function t(e,n){var r=n.method,a=e.i[r];if(a===u)return n.delegate=null,"throw"===r&&e.i.return&&(n.method="return",n.arg=u,t(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;r=d(a,e.i,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,g;a=r.arg;return a?a.done?(n[e.r]=a.value,n.next=e.n,"return"!==n.method&&(n.method="next",n.arg=u),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}(n,i);if(n){if(n===g)continue;return n}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(1===c)throw c=4,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);c=3;n=d(a,o,i);if("normal"===n.type){if(c=i.done?4:2,n.arg===g)continue;return{value:n.arg,done:i.done}}"throw"===n.type&&(c=4,i.method="throw",i.arg=n.arg)}}),!0),e}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}i.wrap=c;var g={};function f(){}function o(){}function h(){}var e={},m=(l(e,r,function(){return this}),Object.getPrototypeOf),m=m&&m(m(x([]))),p=(m&&m!==t&&s.call(m,r)&&(e=m),h.prototype=f.prototype=Object.create(e));function y(t){["next","throw","return"].forEach(function(e){l(t,e,function(t){return this._invoke(e,t)})})}function b(i,c){var e;l(this,"_invoke",function(n,r){function t(){return new c(function(t,e){!function e(t,n,r,a){var o,t=d(i[t],i,n);if("throw"!==t.type)return(n=(o=t.arg).value)&&"object"==_typeof(n)&&s.call(n,"__await")?c.resolve(n.__await).then(function(t){e("next",t,r,a)},function(t){e("throw",t,r,a)}):c.resolve(n).then(function(t){o.value=t,r(o)},function(t){return e("throw",t,r,a)});a(t.arg)}(n,r,t,e)})}return e=e?e.then(t,t):t()},!0)}function v(t){this.tryEntries.push(t)}function w(t){var e=t[4]||{};e.type="normal",e.arg=u,t[4]=e}function E(t){this.tryEntries=[[-1]],t.forEach(v,this),this.reset(!0)}function x(e){if(null!=e){var n,t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return n=-1,(t=function t(){for(;++n<e.length;)if(s.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=u,t.done=!0,t}).next=t}throw new TypeError(_typeof(e)+" is not iterable")}return l(p,"constructor",o.prototype=h),l(h,"constructor",o),o.displayName=l(h,a,"GeneratorFunction"),i.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},i.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,l(t,a,"GeneratorFunction")),t.prototype=Object.create(p),t},i.awrap=function(t){return{__await:t}},y(b.prototype),l(b.prototype,n,function(){return this}),i.AsyncIterator=b,i.async=function(t,e,n,r,a){void 0===a&&(a=Promise);var o=new b(c(t,e,n,r),a);return i.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},y(p),l(p,a,"Generator"),l(p,r,function(){return this}),l(p,"toString",function(){return"[object Generator]"}),i.keys=function(t){var e,n=Object(t),r=[];for(e in n)r.unshift(e);return function t(){for(;r.length;)if((e=r.pop())in n)return t.value=e,t.done=!1,t;return t.done=!0,t}},i.values=x,E.prototype={constructor:E,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&s.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=u)},stop:function(){this.done=!0;var t=this.tryEntries[0][4];if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function t(t){o.type="throw",o.arg=e,n.next=t}for(var r=n.tryEntries.length-1;0<=r;--r){var a=this.tryEntries[r],o=a[4],i=this.prev,c=a[1],s=a[2];if(-1===a[0])return t("end"),!1;if(!c&&!s)throw Error("try statement without catch or finally");if(null!=a[0]&&a[0]<=i){if(i<c)return this.method="next",this.arg=u,t(c),!0;if(i<s)return t(s),!1}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(-1<r[0]&&r[0]<=this.prev&&this.prev<r[2]){var a=r;break}}var o=(a=a&&("break"===t||"continue"===t)&&a[0]<=e&&e<=a[2]?null:a)?a[4]:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a[2],g):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n[2]===t)return this.complete(n[4],n[3]),w(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n,r,a=this.tryEntries[e];if(a[0]===t)return"throw"===(n=a[4]).type&&(r=n.arg,w(a)),r}throw Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={i:x(t),r:e,n:n},"next"===this.method&&(this.arg=u),g}},i}function asyncGeneratorStep(t,e,n,r,a,o,i){try{var c=t[o](i),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(r,a)}function _asyncToGenerator(c){return function(){var t=this,i=arguments;return new Promise(function(e,n){var r=c.apply(t,i);function a(t){asyncGeneratorStep(r,e,n,a,o,"next",t)}function o(t){asyncGeneratorStep(r,e,n,a,o,"throw",t)}a(void 0)})}}function deleteBarang(){return _deleteBarang.apply(this,arguments)}function _deleteBarang(){return(_deleteBarang=_asyncToGenerator(_regeneratorRuntime().mark(function t(){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(barangIdToDelete){t.next=2;break}return t.abrupt("return",alert("ID barang tidak ditemukan"));case 2:return t.prev=2,t.next=5,fetch("".concat(API_URL,"/barang/").concat(barangIdToDelete),{method:"DELETE",credentials:"include"});case 5:barangIdToDelete=null,fetchBarang(),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(2),console.error(t.t0),alert("Gagal menghapus data");case 13:case"end":return t.stop()}},t,null,[[2,9]])}))).apply(this,arguments)}Array.from(document.getElementsByClassName("dropdown")).forEach(function(t){t.addEventListener("click",function(t){var e;t.currentTarget.classList.contains("navbar-item")?t.currentTarget.classList.toggle("active"):(e=t.currentTarget.getElementsByClassName("mdi")[1],t.currentTarget.parentNode.classList.toggle("active"),e.classList.toggle("mdi-plus"),e.classList.toggle("mdi-minus"))})}),Array.from(document.getElementsByClassName("mobile-aside-button")).forEach(function(t){t.addEventListener("click",function(t){t=t.currentTarget.getElementsByClassName("icon")[0].getElementsByClassName("mdi")[0];document.documentElement.classList.toggle("aside-mobile-expanded"),t.classList.toggle("mdi-forwardburger"),t.classList.toggle("mdi-backburger")})}),Array.from(document.getElementsByClassName("--jb-navbar-menu-toggle")).forEach(function(t){t.addEventListener("click",function(t){var e=t.currentTarget.getElementsByClassName("icon")[0].getElementsByClassName("mdi")[0];document.getElementById(t.currentTarget.getAttribute("data-target")).classList.toggle("active"),e.classList.toggle("mdi-dots-vertical"),e.classList.toggle("mdi-close")})}),document.addEventListener("click",function(t){var e=t.target.closest(".--jb-modal"),e=(e&&(e=e.getAttribute("data-target"),e=document.getElementById(e))&&(e.classList.add("active"),document.documentElement.classList.add("clipped")),t.target.closest(".--jb-modal-close")),e=(e&&(e=e.closest(".modal"))&&(e.classList.remove("active"),document.documentElement.classList.remove("clipped")),t.target.closest(".button.red.--jb-modal[data-id]"));e&&(barangIdToDelete=e.getAttribute("data-id"))});var barangData=[],currentPage=1,itemsPerPage=5;function fetchBarang(){return _fetchBarang.apply(this,arguments)}function _fetchBarang(){return(_fetchBarang=_asyncToGenerator(_regeneratorRuntime().mark(function t(){var e,n;return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(API_URL,"/barang/new"),{method:"GET",credentials:"include"});case 3:return e=t.sent,t.next=6,e.json();case 6:if(n=t.sent,Array.isArray(n)){t.next=9;break}throw new Error("Data barang tidak valid");case 9:barangData=n,renderBarangPage(currentPage),renderPagination(),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),console.error("Gagal memuat data: "+t.t0.message);case 17:case"end":return t.stop()}},t,null,[[0,14]])}))).apply(this,arguments)}function renderBarangPage(t){var n=document.getElementById("barang-table-body"),e=(n.innerHTML="",(t-1)*itemsPerPage);barangData.slice(e,e+itemsPerPage).forEach(function(t){var e=document.createElement("tr");e.innerHTML='\n        <td data-label="Id">\n          '.concat(t.id,'\n        </td>\n        <td data-label="Nama">').concat(t.nama,'</td>\n        <td data-label="Stok">').concat(t.stok,'</td>\n        <td data-label="Harga">Rp').concat(Number(t.harga).toLocaleString(),'</td>\n        <td data-label="Kategori">').concat(t.kategori||"-",'</td>\n        <td data-label="Created">\n          <small class="text-gray-500">').concat(new Date(t.created_at).toLocaleDateString(),'</small>\n        </td>\n        <td data-label="Cetak-QR">\n            <button onclick="getQr(').concat(t.id,')" class="max-w-xs button blue">Print</button>\n            <img id="qrImage" alt="QR Code" class="hidden w-0 h-0"/>\n        </td>\n        <td class="actions-cell">\n          <div class="buttons right nowrap">\n            <button class="button small green --jb-modal" data-target="sample-modal-2">\n              <span class="icon"><i class="mdi mdi-eye"></i></span>\n            </button>\n            <button data-id="').concat(t.id,'" class="button small red --jb-modal" data-target="sample-modal">\n              <span class="icon"><i class="mdi mdi-trash-can"></i></span>\n            </button>\n          </div>\n        </td>\n      '),n.appendChild(e)}),document.getElementById("page-info").textContent="Page ".concat(t," of ").concat(Math.ceil(barangData.length/itemsPerPage))}function renderPagination(){for(var n=document.getElementById("pagination-buttons"),t=(n.innerHTML="",Math.ceil(barangData.length/itemsPerPage)),e=1;e<=t;e++)(t=>{var e=document.createElement("button");e.textContent=t,e.className="button ".concat(t===currentPage?"active":""),e.onclick=function(){renderBarangPage(currentPage=t),renderPagination()},n.appendChild(e)})(e)}